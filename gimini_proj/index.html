<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="./script.css">
    <link rel="icon" href="./gemini_sparkle_v002_d4735304ff6292a690345.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini</title>
</head>

<body>
    <div class="container">
        <div class="sideNavigation">
            <div class="topBarAction">
                <i class="fa-solid fa-bars"></i>
            </div>
            <div class="sideNavButton">
                <button>
                    <i class="fa-solid fa-plus"></i>
                    <span class="collapseText">New Chat</span>
                </button>
            </div>
            <div class="chatHistory">
                <h5>Recent</h5>

                <ul>
                    <li><i class="fa-solid fa-message"></i>helow hkjmklnl'm km lj lkj jkjlkj nljklj lkjlk ml knl nklkn
                        lnkl n</li>
                    <li><i class="fa-solid fa-message"></i>helow</li>
                    <li><i class="fa-solid fa-message"></i>helow</li>


                </ul>
            </div>
            <div class="actionList">
                <button class="transparentButton">
                    <i class="fa-regular fa-circle"></i>
                    <span class="collapseText">Help</span>
                </button>
                <button class="transparentButton">
                    <i class="fa-solid fa-clock-rotate-left"></i>
                    <span class="collapseText">Activity</span>
                </button>
                <button class="transparentButton">
                    <i class="fa-solid fa-gear"></i>
                    <span class="collapseText">Setting</span>
                </button>
            </div>
        </div>
        <div class="chatWindow">
            <div class="startContent">
                <h1><span class="brandHellow">Hellow, Shivam Namdev</span><br>
                <span class="brandQuestion">How can I help You today?</span>
                </h1>
                <br>
                <ul>
                    <li>how bkj nlkjlkj develorpeml</li>
                </ul>
            </div>
            <div class="chatContent">
                <div class="results">
                    <p id="datafromui"></p>
                </div>
            </div>
            <div class="inputArea">
                <input type="text" placeholder="Enter a prompt here " id="user-input">
                <div class="iconGroup">
                    <i class="fa-solid fa-image"></i>
                    <i class="fa-solid fa-microphone"></i>
                    <i class="fa-solid fa-paper-plane" id="call"></i>
                </div>
            </div>
        </div>
    </div>
    <!-- /*****************************************************************/ -->
    <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
          }
        }
      </script>
    <script type="module">
        let input=document.getElementById("user-input");
        let datafromui= document.getElementById("datafromui");

        import { GoogleGenerativeAI } from "@google/generative-ai";
        import { secret } from "./hidedata.js";

        let API_KEY=secret.gemini_apikey;
        const genAI = new GoogleGenerativeAI(API_KEY);
        let button1 = document.querySelector("#call");
        async function callapi() {
            const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

            const prompt = input.value;

            const result = await model.generateContent(prompt);
            const response = await result.response;
            const text = response.text();
            datafromui.innerText=text;
            
            // console.log(response);
            input.value = '';
        
        };

        button1.addEventListener("click", callapi);
        callapi();


    </script>
    <!-- <script src="./index.js"></script> -->
</body>

</html>